# Государственный пожарный контроль и надзор

Веб-портал для комплексного управления пожарной безопасностью: журнал выездов, государственный учёт пожаров, модуль государственного контроля и надзора, CRM и документооборот.

## Структура монорепозитория

- `client/` — фронтенд на Vite + React. Общие хелперы вынесены в `client/src/utils`, типы – в `client/src/types`, хуки – в `client/src/hooks`.
- `server/` — Express API, сборка серверного бандла и подключение Vite в dev-режиме.
- `shared/` — общие схемы БД и типы, используемые клиентом и сервером.
- `attached_assets/` — статические ресурсы (например, исходные Excel-файлы).

## Установка и запуск

1. Установите зависимости в режиме workspace:
   ```bash
   pnpm install
   ```
2. Запустите дев-сервер (Express + Vite middleware):
   ```bash
   pnpm dev
   ```
3. Соберите production-бандл (сначала клиент, затем сервер):
   ```bash
   pnpm build
   ```
4. Запустите собранный сервер:
   ```bash
   pnpm start
   ```

### Команды пакетов

- Клиент: `pnpm --filter gpk-client dev|build|preview|check`
- Сервер: `pnpm --filter gpk-server dev|build|start|check|db:push|db:seed`

## Переменные окружения

- Основной `.env` храните в корне репозитория; сервер дополнительно читает `server/.env` при наличии.
- Клиентский Vite также смотрит в корневой `.env` (через `envDir`), можно добавлять `client/.env.*` для специфичных значений.
- Все `.env`-файлы игнорируются Git (`.gitignore`).

## Технологии

- Node.js / TypeScript
- Vite + React
- PostgreSQL (Neon) + Drizzle ORM
- Развёртывание и разработка в Replit

Репозиторий используется для дальнейшей доработки системы с помощью ИИ-агентов Replit (Jules).
