<!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ –ø–æ—Ä—Ç–∞–ª–∞ -->
<header class="portal-header">
    <div class="container">
        <h1 class="portal-title">–ì–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω—ã–π –ø–æ–∂–∞—Ä–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å</h1>
        <p class="portal-subtitle">–ö–æ–º–∏—Ç–µ—Ç –ø—Ä–æ—Ç–∏–≤–æ–ø–æ–∂–∞—Ä–Ω–æ–π —Å–ª—É–∂–±—ã –ú–ß–° –†–ö</p>
    </div>
</header>

<!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç -->
<div class="container">
    <!-- –ù–∞–≤–∏–≥–∞—Ü–∏—è -->
    <nav class="portal-nav">
        <ul>
            <li><a href="/">–ì–ª–∞–≤–Ω–∞—è</a></li>
            <li><a href="/gup">–£—á–µ—Ç –ø–æ–∂–∞—Ä–æ–≤</a></li>
            <li><a href="/ppo">–ö–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ–º—ã–µ –æ–±—ä–µ–∫—Ç—ã</a></li>
            <li><a href="/journals">–ñ—É—Ä–Ω–∞–ª—ã</a></li>
            <li><a href="/reports">–û—Ç—á–µ—Ç—ã</a></li>
        </ul>
    </nav>

    <!-- –ü–ª–∏—Ç–∫–∏ –º–æ–¥—É–ª–µ–π -->
    <div class="portal-modules">
        <!-- –ì–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω—ã–π —É—á–µ—Ç –ø–æ–∂–∞—Ä–æ–≤ -->
        <a href="/gup" class="portal-module">
            <span class="portal-module-icon">üî•</span>
            <h3>–ì–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω—ã–π —É—á–µ—Ç –ø–æ–∂–∞—Ä–æ–≤</h3>
            <p>
                –ñ—É—Ä–Ω–∞–ª —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –ø–æ–∂–∞—Ä–æ–≤ –∏ –ø—Ä–æ–∏—Å—à–µ—Å—Ç–≤–∏–π, —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–∏—Ö –æ—Ç—á–µ—Ç–æ–≤ 
                –ø–æ —Ñ–æ—Ä–º–∞–º 1-–û–°–ü, 2-–°–°–ì, 3-–°–ü–í–ü, 4-–°–û–í–ü, 5-–°–ü–ñ–°, 6-–°–°–ü–ó, –°–û. 
                –ê–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏–µ –¥–∞—à–±–æ—Ä–¥—ã –∏ –¥–∏–∞–≥—Ä–∞–º–º—ã.
            </p>
            <div class="portal-module-stats">
                <span class="module-status active">–ê–∫—Ç–∏–≤–µ–Ω</span>
                <span>7 —Ñ–æ—Ä–º –æ—Ç—á–µ—Ç–Ω–æ—Å—Ç–∏</span>
            </div>
        </a>

        <!-- –ü–µ—Ä–µ—á–µ–Ω—å –ø–æ–¥–∫–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤ -->
        <a href="/ppo" class="portal-module">
            <span class="portal-module-icon">üè¢</span>
            <h3>–ü–µ—Ä–µ—á–µ–Ω—å –ø–æ–¥–∫–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤</h3>
            <p>
                –†–µ–µ—Å—Ç—Ä –æ–±—ä–µ–∫—Ç–æ–≤ –ø–æ–∂–∞—Ä–Ω–æ–≥–æ –Ω–∞–¥–∑–æ—Ä–∞, –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —É—á–µ—Ç –ø—Ä–æ–≤–µ—Ä–æ–∫, 
                –≤–µ–¥–µ–Ω–∏–µ –∫–∞—Ä—Ç–æ—á–µ–∫ –æ–±—ä–µ–∫—Ç–æ–≤, –∫–æ–Ω—Ç—Ä–æ–ª—å —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è –Ω–∞—Ä—É—à–µ–Ω–∏–π 
                —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π –ø–æ–∂–∞—Ä–Ω–æ–π –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏.
            </p>
            <div class="portal-module-stats">
                <span class="module-status development">–í —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ</span>
                <span>–û–±—ä–µ–∫—Ç—ã –Ω–∞–¥–∑–æ—Ä–∞</span>
            </div>
        </a>

        <!-- –ñ—É—Ä–Ω–∞–ª—ã -->
        <a href="/journals" class="portal-module">
            <span class="portal-module-icon">üìã</span>
            <h3>–ñ—É—Ä–Ω–∞–ª—ã</h3>
            <p>
                –ñ—É—Ä–Ω–∞–ª—ã –∞—É–¥–∏—Ç–æ–≤ –ø–æ–∂–∞—Ä–Ω–æ–π –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏, –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ–π –≥–∞—Ä–∞–Ω—Ç–∏–∏ 
                –ø–æ–∂–∞—Ä–Ω–æ–π –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ (–ù–ì–ü–°), –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã—Ö –ø—Ä–∞–≤–æ–Ω–∞—Ä—É—à–µ–Ω–∏–π (–ê–ü–ù) 
                –∏ –¥—Ä—É–≥–∏—Ö –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–π –∫–æ–Ω—Ç—Ä–æ–ª—è.
            </p>
            <div class="portal-module-stats">
                <span class="module-status planned">–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–æ</span>
                <span>–ê—É–¥–∏—Ç—ã –∏ –ø—Ä–æ–≤–µ—Ä–∫–∏</span>
            </div>
        </a>
    </div>

    <!-- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è -->
    <div class="portal-nav">
        <div style="text-align: center; padding: 2rem;">
            <h3 style="color: rgba(255,255,255,0.9); margin-bottom: 1rem;">–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–∏—Å—Ç–µ–º—ã</h3>
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 2rem; margin-top: 2rem;">
                <div style="text-align: center;">
                    <div style="font-size: 2rem; font-weight: bold; color: #3b82f6;" id="stats-incidents">1,847</div>
                    <div style="color: rgba(255,255,255,0.7);">–í—Å–µ–≥–æ –ø–æ–∂–∞—Ä–æ–≤</div>
                </div>
                <div style="text-align: center;">
                    <div style="font-size: 2rem; font-weight: bold; color: #10b981;" id="stats-objects">2,156</div>
                    <div style="color: rgba(255,255,255,0.7);">–ö–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ–º—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤</div>
                </div>
                <div style="text-align: center;">
                    <div style="font-size: 2rem; font-weight: bold; color: #f59e0b;" id="stats-reports">127</div>
                    <div style="color: rgba(255,255,255,0.7);">–û—Ç—á–µ—Ç–æ–≤ —Å—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–æ</div>
                </div>
                <div style="text-align: center;">
                    <div style="font-size: 2rem; font-weight: bold; color: #dc2626;" id="stats-users">89</div>
                    <div style="color: rgba(255,255,255,0.7);">–ê–∫—Ç–∏–≤–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π</div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- –§—É—Ç–µ—Ä -->
<footer class="portal-footer">
    <div class="container">
        <p>&copy; <%= new Date().getFullYear() %> –ö–æ–º–∏—Ç–µ—Ç –ø—Ä–æ—Ç–∏–≤–æ–ø–æ–∂–∞—Ä–Ω–æ–π —Å–ª—É–∂–±—ã –ú–ß–° –†–ö</p>
        <p>
            –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –ø–æ–∂–∞—Ä–Ω–æ–≥–æ –∫–æ–Ω—Ç—Ä–æ–ª—è
            <br>
            –í–µ—Ä—Å–∏—è 2.0 | –ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ: <%= new Date().toLocaleDateString('ru-RU') %>
        </p>
    </div>
</footer>

<script>
document.addEventListener('DOMContentLoaded', function() {
    // –ê–Ω–∏–º–∞—Ü–∏—è —Å—á–µ—Ç—á–∏–∫–æ–≤ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
    const animateCounter = (element, target) => {
        let current = 0;
        const increment = target / 100;
        const timer = setInterval(() => {
            current += increment;
            if (current >= target) {
                element.textContent = target.toLocaleString('ru-RU');
                clearInterval(timer);
            } else {
                element.textContent = Math.floor(current).toLocaleString('ru-RU');
            }
        }, 20);
    };
    
    // –ó–∞–ø—É—Å–∫ –∞–Ω–∏–º–∞—Ü–∏–∏ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
    setTimeout(() => {
        animateCounter(document.getElementById('stats-incidents'), 1847);
        animateCounter(document.getElementById('stats-objects'), 2156);
        animateCounter(document.getElementById('stats-reports'), 127);
        animateCounter(document.getElementById('stats-users'), 89);
    }, 500);
    
    // –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∏ –ø–æ–ª—É—á–µ–Ω–∏–µ —Ä–µ–∞–ª—å–Ω–æ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
    fetch('/api/stats/dashboard')
        .then(response => response.ok ? response.json() : null)
        .then(data => {
            if (data) {
                document.getElementById('stats-incidents').textContent = data.incidents?.toLocaleString('ru-RU') || '1,847';
                document.getElementById('stats-objects').textContent = data.objects?.toLocaleString('ru-RU') || '2,156';
                document.getElementById('stats-reports').textContent = data.reports?.toLocaleString('ru-RU') || '127';
                document.getElementById('stats-users').textContent = data.users?.toLocaleString('ru-RU') || '89';
            }
        })
        .catch(() => {
            // –û—Å—Ç–∞–≤–ª—è–µ–º –¥–µ–º–æ-–¥–∞–Ω–Ω—ã–µ –µ—Å–ª–∏ API –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ
        });
});
</script>