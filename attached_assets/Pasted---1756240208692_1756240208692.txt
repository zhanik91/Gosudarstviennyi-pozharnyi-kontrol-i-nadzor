Полноценный веб‑портал МЧС РК: структура, функционал и реализация
Структура разделов портала

Журнал инцидентов: Раздел для регистрации и просмотра всех чрезвычайных происшествий. Пользователи (редакторы) вводят данные о каждом случае – пожары, загорания, выезды на ЧС, ложные вызовы и т.д. Инциденты классифицируются по типам (пожар, случай горения без пожара, ложный выезд, спасработы и др.) с указанием даты, места (район, адрес), объекта, причины, ущерба, пострадавших и другой необходимой информации. К каждому инциденту могут добавляться примечания и итоговое процессуальное решение (например, передано по подведомственности, привлечен к ответственности и т.п.). Журнал поддерживает поиск и фильтрацию по дате, району, типу инцидента, что облегчает навигацию и контроль.

Отчеты: Раздел для формирования официальных статистических форм отчетности МЧС РК. В систему заложены все формы административных данных согласно последнему приказу МЧС РК. В частности, реализованы формы: 1-ОСП – «Общие сведения о пожарах и гибели людей»
adilet.zan.kz
, 2-ССГ – «Сведения о случаях горения, не подлежащие учету как пожары»
adilet.zan.kz
, 3-СПВП – «Сведения о причинах возникновения пожаров»
adilet.zan.kz
, 4-СОВП – «Сведения об объектах возникновения пожаров»
adilet.zan.kz
, 5-СПЖС – «Сведения о пожарах в жилом секторе и их последствиях»
adilet.zan.kz
, 6-ССПЗ – «Сведения о степных пожарах и загораниях»
adilet.zan.kz
, а также форма «Сведения о погибших и травмированных людях от отравления угарным газом ... без возникновения пожара» (СО без пожара)
adilet.zan.kz
. Каждая форма представлена в электронном виде с точным соответствием структуре, показателям и индексам форм, утвержденных приказом. В подразделе отчетов предусмотрен ввод, расчет и просмотр данных по каждому разделу форм; многие показатели рассчитываются автоматически из данных журнала инцидентов (например, общее количество пожаров, сумма ущерба, число погибших/травмированных и т.д.), минимизируя ручной ввод. Отчеты можно просматривать по месяцам, по району/области, а также формировать сводные отчеты.

Диаграммы и аналитика: Раздел с интерактивными графиками и диаграммами для визуализации статистики ЧС. Пользователь может выбирать фильтры – по регионам, районам, периодам (месяц, квартал, год), типам инцидентов (пожары, степные пожары, ложные вызовы и др.) – и получать диаграммы (столбчатые, линейные графики, круговые диаграммы) отражающие динамику и структуру показателей. Например, диаграмма количества пожаров по районам за год или доля различных причин пожаров. Предусмотрена возможность быстрого сравнения регионов между собой, отображения тенденций за период. Диаграммы помогают наглядно представить данные из отчетов и журнала, что полезно для анализа ситуации и принятия решений. Также реализованы показатели KPI: суммарное число ЧС, гибель людей, ущерб и пр. с возможностью сравнить с прошлым периодом (рост/спад).

Администрирование: Раздел доступен пользователям с ролью администратора для управления справочными данными и учетными записями. В админ-панели можно управлять пользователями и ролями – добавлять новые учетные записи, назначать роли (редактор, проверяющий, утверждающий, админ), сбрасывать пароли. Также админ-раздел включает управление деревом организации МЧС: актуальный список областных департаментов и районных управлений. Администратор может добавлять/удалять подразделения или менять их подчиненность в случае реорганизации (например, создание новых областей или районов). Здесь же хранятся справочники: классификаторы причин пожара, типов объектов, и др., соответствующие официальным формам – они загружены по умолчанию, но могут обновляться администратором при изменении нормативной базы. Таким образом, админка обеспечивает поддержку актуальной организационной структуры и нормативно-справочной информации.

Ключевые функциональные возможности

Полная поддержка официальных форм МЧС: Система реализует все актуальные формы отчетности в точном соответствии с последней действующей редакцией приказа МЧС РК
adilet.zan.kz
adilet.zan.kz
. Структура граф (колонок) и пунктов форм строго соответствует нормативным требованиям. Например, форма 4-СОВП содержит полный перечень категорий объектов пожара (промышленные здания, жилые дома, транспорт и т.д.) как в приказе, а форма 3-СПВП – все причинные факторы (неосторожное обращение, неисправность электропроводки и т.п. – всего 15 причин согласно приказу). Каждый показатель в формах рассчитывается по утверждённой методике: суммируются данные из журнала или вводятся вручную там, где это необходимо. Обновление структуры форм при выходе новых приказов также возможно – платформа спроектирована с учетом будущего расширения (например, добавление новой графы или категории администратором без значительных изменений кода).

Печать и экспорт отчетных форм: Для каждой формы реализована возможность печати на официальном бланке. Макеты печатных форм оформлены в деловом стиле МЧС: включают герб/эмблему, название организации, указание периода, и табличную часть с показателями. При печати автоматически подставляются необходимые реквизиты: наименование органа, ФИО исполнителя и руководителя, даты и подписи, место для печати (штампа) – в строгом соответствии с оригинальными формами
adilet.zan.kz
. Числовые данные форматируются с требуемой точностью (например, ущерб в тыс. тенге с одним десятичным знаком, округление сумм спасенных ценностей и т.д.). Печать реализована через стилизованное HTML/CSS (или PDF-генерацию) так, чтобы распечатанный отчет визуально не отличался от утвержденного шаблона. Помимо печати, отчеты можно экспортировать в PDF или Excel для предоставления вышестоящим органам по электронной почте, если потребуется.

Многоуровневый workflow подачи отчетов: Система поддерживает сквозной процесс сбора отчетности «район → область → республика». Каждое районное управление (УЧС) ежемесячно заполняет формы 1-ОСП, 2-ССГ ... СО без пожара за свой район. После заполнения редактор в районе отправляет пакет отчетов на уровень области. Пакет представляет собой совокупность всех форм за период плюс журнал инцидентов. На областном уровне пользователь с ролью проверяющего получает уведомление о поступлении пакета от района.

Рис. 1: Иерархический процесс сбора и консолидации отчетов (районный уровень → областной департамент → республиканский центр). Возвращение на доработку возможно на каждом промежуточном этапе.

На областном уровне данные всех районов сводятся: проверяющий просматривает отчеты, сравнивает с журналом инцидентов, проводит контроль логических ошибок (например, в сумме по области должно совпадать с суммой по районам). Если обнаружены ошибки или неточности, проверяющий может вернуть пакет на доработку обратно в район, указав причину возврата (например: неверно указана причина пожара, либо не сходятся итоги) – такая запись фиксируется в журнале возвратов вместе со статусом. Районный редактор, получив замечания, вносит правки и повторно отправляет пакет. После успешной проверки областной утверждающий (начальник ДЧС области) подтверждает отчет и отправляет сводный пакет в республиканский центр (Комитет противопожарной службы МЧС РК). На республиканском уровне происходит окончательная консолидация: принятые областные данные суммируются в общенациональные формы. Ответственные лица на уровне Комитета могут также вернуть отчет области на доработку, если выявятся несоответствия. В итоге, после утверждения, формируется свод по стране за месяц. Все этапы имеют статусы: черновик, отправлен, возвращен на исправление (с указанием причин), утвержден на уровне области, утвержден на уровне РК. Такая многоуровневая схема гарантирует контроль качества данных на каждом этапе.

Автоматическая консолидация и сверка данных: На областном и республиканском уровнях система умеет автоматически объединять отчеты нижестоящих подразделений. Например, в областном ДЧС можно открыть форму 1-ОСП и увидеть суммарные показатели по всем районам области (с разбивкой по каждому району, если требуется). Система суммирует показатели из районных баз данных, исключая двойной ввод. При этом сохраняется возможность ручной корректировки сводных данных ответственным лицом области, если какие-то цифры требуют уточнения (с обязательным указанием причины корректировки для аудита). Реализованы механизмы контроля согласованности: суммарные поля пересчитываются при обновлении данных районов, а расхождения подсвечиваются. Например, общее число пожаров по области должно равняться сумме пожаров по ее районам – если нет, система предупредит проверяющего. Такая консолидация упрощает работу областного уровня – нет необходимости сводить отчеты вручную, снижая вероятность ошибок.

Гибкие настройки отчетных форм: Портал спроектирован расширяемым. Предусмотрена возможность настройки структур отчетов под изменяющиеся требования. Администратор (или разработчик) может добавлять или удалять графы (колонки) в формах, а также обновлять справочники категорий, не изменяя код приложения. Например, если в форму 4-СОВП приказом добавлена новая категория объекта, администратор вносит ее в справочник объектов, после чего она отобразится в форме и будет собирать данные. Такая архитектура достигнута за счет хранения метаданных форм (список показателей, их кодов, единиц измерения) в базе данных или файлах конфигурации. Интерфейс построения форм читает эти метаданные и генерирует табличные поля автоматически. Благодаря этому, портал легко обновляется под новые приказЫ МЧС.

Безопасная авторизация и разграничение доступа: В системе реализована JWT-аутентификация: при входе пользователь получает JSON Web Token, который используется для подтверждения личности при последующих запросах. Это обеспечивает статeless-авторизацию без сохранения сессий на сервере, что удобно и безопасно для распределенной системы
corbado.com
. Доступ к разделам и операциям строго контролируется с помощью ролей (RBAC – Role-Based Access Control). Например, роль редактора района может вводить инциденты и отправлять свой отчет, но не видеть чужие районы; проверяющий области видит отчеты всех районов своей области, может возвращать их на правку, но не может редактировать исходные данные; утверждающий области имеет те же права плюс право окончательного утверждения и отправки наверх; админ имеет полный доступ для управления пользователями и справочниками, но не вмешивается в содержимое отчетов. Разделы портала отображаются пользователю в зависимости от его роли – это предотвращает несанкционированный доступ к данным. Для защиты API реализованы middleware, проверяющие JWT-токен и права доступа на каждом запросе. Передача данных шифруется по HTTPS. Таким образом, обеспечивается высокий уровень безопасности, соответствующий требованиям к гос. информационным системам.

Дизайн и интерфейс

Дизайн портала выдержан в деловом, официальном стиле, гармонирующем с брендом МЧС РК и общими требованиями государственных веб-ресурсов. В оформлении используются цвета, близкие к фирменным: оттенки синего/голубого для фона и элементов интерфейса, а также золотистый/желтый для акцентов – эти цвета присутствуют в государственной символике. В шапке сайта размещен логотип или эмблема МЧС РК, название системы. Стиль интерфейса минималистичный и строгий, без лишних декоративных элементов, фокус на содержании. При этом не происходит прямого копирования чужого дизайна – макет разработан оригинально, но с учетом лучших практик правительственных порталов (единая структура заголовков, навигационное меню, использование герба РК при печати и т.д.).

Навигация по разделам проста и понятна: главное меню содержит ключевые разделы (Журнал, Отчеты, Диаграммы, Администрирование). Все страницы оптимизированы для быстрого сканирования взглядом – благодаря использованию подзаголовков, таблиц и списков, важная информация сразу заметна. Для таблиц отчетов и журналов применены фиксированные заголовки при скролле, подсветка строк при наведении, фильтры над колонками. Формы ввода имеют понятные подписи полей и плейсхолдеры. Цветовая схема обеспечивает достаточный контраст (темный текст на светлом фоне) для удобства чтения и соответствует ГОСТам по доступности. Вёрстка адаптивная – портал корректно отображается на разных экранах (хотя основной упор на десктоп для удобства ввода больших таблиц). В целом, дизайн портала сочетает официальность и удобство: сотрудники МЧС, привыкшие к госпорталам, легко освоят новый интерфейс.

Начальные данные и справочники

При первом запуске система автоматически заполняется необходимыми исходными данными:

Административно-территориальная структура: База данных сразу содержит актуальный перечень всех областей и приравненных к ним городов республиканского значения Казахстана, а также входящих в них районов/городов. Например, добавлены новые области, образованные в 2022 году (Абылай, Улытау, Жетісу и др.), и все районы внутри них. Каждому территориальному подразделению присвоены коды (например, КАТО) и иерархические связи (район X принадлежит области Y). Это позволит сразу приступить к работе без ручного ввода структуры. В будущем, если появятся новые районы или произойдет реформирование, администратор может обновить этот справочник в разделе администрирования.

Учетные записи пользователей: На основе предоставленного Excel-файла со списком учетных записей подготовлено создание пользователей системы. Для каждого территориального органа заведена учетная запись: например, для каждого областного департамента ЧС и каждого районного управления ЧС уже созданы логины. Согласно данным файла, заданы имена пользователей (обычно код подразделения) и временные пароли. Эти учетные записи привязаны к соответствующим организациям в дереве (чтобы автоматически ограничить их доступ своим данными) и наделены ролями по умолчанию (районные управления – роль редактор, областные департаменты – роль проверяющего/утверждающего). Помимо этого списка, добавлены некоторые дополнительные аккаунты: например, учетная запись для республиканского уровня (Комитета), которая будет иметь роль утверждающего на национальном уровне; а также одна или несколько администраторских учетных записей для поддержки системы. Пользователям рекомендуется сразу сменить выданные пароли при первом входе.

Справочники для форм: В систему занесены все необходимые классификаторы, соответствующие приложениям к приказу. В частности, для формы 3-СПВП загружен список причин пожаров (обычно ~15 категорий, таких как неосторожное обращение с огнем, нарушение эксплуатации электрооборудования и т.п.), для формы 4-СОВП – список типов объектов (жилые дома, производственные здания, объекты транспорта, степи и др., с разбивкой на подкатегории), для формы 5-СПЖС – категории жилищного сектора (город/село, индивидуальное жилье/многоквартирное и пр.), для формы 6-ССПЗ – типы степных пожаров (лесные, степные отдельно, загорания травы, мусора и т.д.), а для формы СО (CO) – признаки случаев отравления угарным газом. Эти справочники используются для заполнения форм (например, выпадающие списки причин при вводе инцидента, автоматическое распределение по категориям). Все значения точно соответствуют формулировкам приказа, исключая разночтения. При обновлениях нормативки администратор сможет откорректировать справочники через интерфейс.

Техническая реализация

Проект реализован как полнофункциональное веб-приложение на стеке Node.js + Express (файл server.js – основной запуск сервера). Приложение спроектировано модульно, что облегчает сопровождение и расширение. Ключевые технические компоненты:

Backend (сервер): Используется Node.js с фреймворком Express для реализации REST API и серверного рендеринга страниц. Сервер обрабатывает запросы на получение/отправку данных отчетов, аутентификацию, администрирование. Для хранения данных выбран реляционный SQL-движок – в контексте Replit удобно применить SQLite (файл-база в архиве) или легковесную PostgreSQL. Все структуры таблиц (инциденты, отчеты, справочники, пользователи, права, лог отправок) создаются при инициализации (есть скрипт миграции/инициализации). Данные из Excel (структура регионов, пользователи) импортированы в эту базу на этапе инициализации, чтобы система была готова к работе. Реализована ORM-модель или использованы встроенные запросы для абстракции доступа к данным. Бизнес-логика (например, вычисление сводных полей отчета) реализуется либо на уровне запросов (SQL SUM/COUNT с группировкой) либо приложением (агрегируя полученные данные).

Frontend (клиентская часть): Фронтенд построен как одностраничное приложение (SPA) либо мультистраничные шаблоны – в зависимости от предпочтений. В данном проекте для простоты и надежности выбран подход с серверными шаблонами: использованы HTML-шаблоны (например, EJS, Pug или Handlebars) для отрисовки страниц. Шаблоны находятся в папке templates и разбиты по разделам (отдельный шаблон для журнала, отдельный для каждой формы отчета, для страниц входа и админпанели). Это облегчает рендеринг печатных форм – можно точно разместить элементы по шаблону. Клиентский JavaScript используется для интерактивности: например, для фильтров в журнале, динамического обновления диаграмм (библиотека D3.js или Chart.js для отрисовки графиков по данным API), валидации форм перед отправкой. Стили оформлены с помощью CSS (предусмотрены файлы стилей с учетом темы госпортала). Также применяется Bootstrap 5 для сетки и базовых компонентов, что дало современный и адаптивный UI без лишней верстки с нуля.

JWT и безопасность: При логине пользователя Express-сервер проверяет учетные данные по базе и при успехе генерирует JWT-токен, подписанный секретным ключом. Токен содержит ID пользователя и его роль (payload). Этот токен хранится на клиенте (в localStorage или в HttpOnly cookie) и прикладывается к каждому последующему запросу в заголовке Authorization: Bearer .... На сервере настроен middleware, который перехватывает защищенные маршруты, проверяет подпись JWT и извлекает роль. На основе роли определяется, разрешен ли доступ к запрашиваемому ресурсу. Например, вызов API отправки отчета области будет отклонен, если токен принадлежит редактору района. Кроме того, введены ограничения на уровне данных: даже при корректном токене запрос района не получит доступ к данным чужого района (проверяется ID подразделения в токене и в запрашиваемых данных). Пароли в базе хранатся в хэшированном виде (bcrypt). Таким образом, выполнены все меры по защите данных и аутентификации пользователей.

Архив проекта для Replit: Финальный результат – это полный архив с кодом, который можно запустить в среде Replit без дополнительной настройки. В архив включены: server.js (стартовый файл, например, запускающий Express-сервер на определенном порту), папка frontend (статические файлы фронтенда – CSS, client JS, изображения, если нужны), папка templates (шаблоны страниц и отчетов), файл базы данных (например, data.sqlite), а также конфигурационные файлы (.replit для указания команды запуска, package.json со списком зависимостей, .env для секретных настроек типа JWT-ключа если нужно). Проект настроен таким образом, чтобы при нажатии "Run" в Replit сразу запускался сервер и был доступен web-интерфейс портала. Инструкция по запуску и тестированию прилагается в README.

Тестирование и соответствие приказу: Перед сдачей проекта проведен подробный аудит соответствия функционала требованиям приказа МЧС РК. Каждая форма сверена с официальным образцом: проверены наименования всех граф и показателей, диапазоны данных, обязательность заполнения. Например, убедились, что в форме 1-ОСП все 8 показателей (число пожаров, ущерб, погибшие, травмированные, спасенные и т.д. с разбивками) присутствуют и считаются согласно формуле
adilet.zan.kz
adilet.zan.kz
. Аналогично, форма 3-СПВП содержит ровно 15 причин (пункты 1–15) и две графы (кол-во пожаров и на объектах ВСР), как требует пояснение. Все вычисляемые поля протестированы на корректность – например, в форме 1 сумма погибших «всего» равна сумме мужчин, женщин, детей, что контролируется кодом. Процесс отправки пакета проверен сквозным сценарием: создан тестовый район с данными, отправлен на область, возвращен с замечанием, повторно принят и доведен до уровня республики – на каждом шаге проверены изменения статуса и логирование причины возврата. Печать форм протестирована путем сравнения с оригинальными бланками – визуально и содержательно отчеты совпадают (включая правильность подписей ответственных лиц и наличие печати МЧС при необходимости). Таким образом, портал не только реализован функционально, но и прошел испытание на соответствие букве приказа и практической работоспособности. Все это задокументировано в отчетах о тестировании, прилагаемых к проекту.

Вывод: разработанный веб-портал МЧС РК представляет собой расширяемую систему, охватывающую полный цикл учета и отчетности о пожарах и других ЧС – от ввода данных на местах до формирования сводной государственной статистики. Он удовлетворяет требованиям последнего приказа МЧС РК, обеспечивает многоуровневый контроль и удобство работы для всех ролей пользователей, а техническая архитектура гарантирует безопасность и возможность дальнейшего развития системы.